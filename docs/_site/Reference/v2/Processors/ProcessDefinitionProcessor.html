<h2 id="processors-processdefinitionprocessor">Processors: ProcessDefinitionProcessor</h2>

<blockquote>
  <p><strong><em>This documentation is for a preview version of the Azure DevOps Migration Tools.</em> If you are not using the preview version then please head over to the main <a href="https://nkdagility.github.io/azure-devops-migration-tools">documentation</a>.</strong></p>
</blockquote>

<p><a href="/azure-devops-migration-tools/">Overview</a> &gt; <a href="/azure-devops-migration-tools/Reference/">Reference</a> &gt; <a href="/azure-devops-migration-tools/Reference/v2/">API v2</a> &gt; <a href="/azure-devops-migration-tools/Reference/v2/Processors/">Processors</a>&gt; <strong>ProcessDefinitionProcessor</strong></p>

<p>Source: https://github.com/nkdAgility/azure-devops-migration-tools/pull/918</p>

<p>I’ve got a use case where I need to have a single inheritance process model that is standardized across organizations. My proposed solution to this is to build a processor that iterates all the source process definitions the processor has configured to synchronize and update the target process definitions accordingly.</p>

<p>Below is a sample processor configuration that will synchronize a process model definition on the source called “Custom Agile Process”, with a process model definition on the target called “Other Agile Process”. It will only synchronize the work item types configured, in the below case, Bug. The synchronize will not destroy any target entities, but will move and update them according to the source. Meaning if the target has it’s own custom fields, this sync process will not damage them, unless they are named the same in the source.</p>

<p>It supports, new fields, updated fields, moved fields, new groups, updated groups, moved groups, new pages, updated pages, moved pages, behaviors and rules.</p>

<h3 id="description">Description</h3>

<p>Process definition processor used to keep processes between two orgs in sync</p>

<h3 id="properties">Properties</h3>

<table>
  <thead>
    <tr>
      <th>Parameter name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Enabled</td>
      <td>Boolean</td>
      <td>If set to <code class="language-plaintext highlighter-rouge">true</code> then the processor will run. Set to <code class="language-plaintext highlighter-rouge">false</code> and the processor will not run.</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>MaxDegreeOfParallelism</td>
      <td>Int32</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>Processes</td>
      <td>Dictionary</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>ProcessMaps</td>
      <td>Dictionary</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>ProcessorEnrichers</td>
      <td>List</td>
      <td>List of Enrichers that can be used to add more features to this processor. Only works with Native Processors and not legacy Processors.</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>RefName</td>
      <td>String</td>
      <td><code class="language-plaintext highlighter-rouge">Refname</code> will be used in the future to allow for using named Options without the need to copy all of the options.</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>SourceName</td>
      <td>String</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>TargetName</td>
      <td>String</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
    <tr>
      <td>UpdateProcessDetails</td>
      <td>Boolean</td>
      <td>missng XML code comments</td>
      <td>missng XML code comments</td>
    </tr>
  </tbody>
</table>

<h3 id="supported-endpoints">Supported Endpoints</h3>

<ul>
  <li>TfsWorkItemEndpoint</li>
</ul>

<h3 id="supported-processor-enrichers">Supported Processor Enrichers</h3>

<ul>
  <li></li>
</ul>

<h3 id="work-item-tracking-processor-options">Work Item Tracking Processor Options</h3>

<h4 id="minimum-options-to-run">Minimum Options to run</h4>

<pre><code class="language-JSON">{
  "$type": "ProcessDefinitionProcessorOptions",
  "Enabled": false,
  "Processes": {
    "$type": "Dictionary`2",
    "*": [
      "*"
    ]
  },
  "ProcessMaps": {
    "$type": "Dictionary`2"
  },
  "UpdateProcessDetails": true,
  "MaxDegreeOfParallelism": 1,
  "ProcessorEnrichers": null,
  "SourceName": null,
  "TargetName": null
}
</code></pre>

<h4 id="example">Example</h4>

<pre><code class="language-JSON">   {
...
    "Processors": [
        {
            "$type": "ProcessDefinitionProcessorOptions",
            "Enabled": true,
            "Processes": {
                "Custom Agile Process": [
                    "Bug"
                ]
            },
            "ProcessMaps": {
                "Custom Agile Process": "Other Agile Process"
            },
            "SourceName": "Source",
            "TargetName": "Target",
            "UpdateProcessDetails": true
        }
    ]
...
}
</code></pre>

<h4 id="example-full">Example Full</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "Version": "12.8",
  "ChangeSetMappingFile": null,
  "Source": null,
  "Target": null,
  "FieldMaps": [],
  "GitRepoMapping": null,
  "LogLevel": "Debug",
  "CommonEnrichersConfig": null,
  "workaroundForQuerySOAPBugEnabled": false,
  "WorkItemTypeDefinition": null,
  "Endpoints": {
    "AzureDevOpsEndpoints": [
      {
        "name": "Source",
        "$type": "AzureDevOpsEndpointOptions",
        "Organisation": "https://dev.azure.com/xxxx",
        "Project": "SAM",
        "AuthenticationMode": "AccessToken",
        "AccessToken": "xxxxx",
        "EndpointEnrichers": null
      },
      {
        "Name": "Target",
        "$type": "AzureDevOpsEndpointOptions",
        "Organisation": "https://dev.azure.com/xxxx",
        "Project": "SAM",
        "AuthenticationMode": "AccessToken",
        "AccessToken": "xxxx",
        "EndpointEnrichers": null
      }
    ]
  },
  "Processors": [
    {
      "$type": "ProcessDefinitionProcessorOptions",
      "Enabled": true,
      "Processes": {
        "Agile SAM - Migration Template": [
          "User Story"
        ]
      },
      "ProcessMaps": {
        "Agile SAM - Migration Template": "SAM Agile Migrator"
      },
      "SourceName": "Source",
      "TargetName": "Target",
      "UpdateProcessDetails": true
    }
  ]
}
</code></pre></div></div>
